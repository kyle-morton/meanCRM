<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>User CRM</title>

	<!-- FOR ANGULAR ROUTING -->
	<base href="/">

	<!-- CSS  -->
	<!-- load bootstrap from CDN and custom CSS -->
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.1/paper/bootstrap.min.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css">
	<link rel="stylesheet" href="assets/css/sweetalert.css">
	<link rel="stylesheet" href="assets/css/style.css">

	<!-- JS -->
	<!-- load jquery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	
	<!-- load bootstrap -->
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	
	<!-- load sweetalert -->
	<script src="assets/js/sweetalert.min.js"></script>
	
	<!-- load angular and angular-route via CDN -->
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-route.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-animate.js"></script>

	<!-- services -->
	<script src="app/services/authService.js"></script>
	<script src="app/services/userService.js"></script>
	<script src="app/services/postService.js"></script>

	<!-- controllers -->
	<script src="app/controllers/mainCtrl.js"></script>
	<script src="app/controllers/userCtrl.js"></script>

	<!-- main Angular app files -->
	<script src="app/app.routes.js"></script>
	<script src="app/app.js"></script>
</head>
<body ng-app="userApp" ng-controller="mainController as main">

<!-- NAVBAR -->
<header>
	<div class="navbar navbar-inverse" ng-if="main.loggedIn">
	<div class="container">
		<div class="navbar-header">
			<a href="/" class="navbar-brand"><span class="glyphicon glyphicon-fire text-danger"></span> User CRM</a>
		</div>	
		<ul class="nav navbar-nav">
			<li><a href="/users"><span class="glyphicon glyphicon-user"></span> Users</a></li>
			<li><a class="anchorStyle" data-target="#postModal" data-toggle="modal"> 
				 <!--ng-click="main.openMessageDialog()">-->
				<span class="glyphicon glyphicon-pencil"></span>Create Post
			</a></li>
		</ul>
		<ul class="nav navbar-nav navbar-right">
			<li ng-if="!main.loggedIn"><a href="/login">Login</a></li>
			<li ng-if="main.loggedIn" class="navbar-text">Hello {{ main.user.username }}!</li>
			<li ng-if="main.loggedIn"><a href="#" ng-click="main.doLogout()">Logout</a></li>
		</ul>
	</div>
	</div>
</header>

<main class="container">	
	
	<!-- ANGULAR VIEWS -->
	<div ng-view></div>
	

	
	<!-- Modal -->
	<div id="postModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
		
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Create User Post</h4>
				</div>
				<div class="modal-body">
						<div class="form-group">
							<label for="exampleInputEmail1">Subject</label>
							<input type="text" class="form-control" id="postSubject" 
								ng-model="main.postData.subject" placeholder="subject">
						</div>
						<div class="form-group">
							<label for="postBody">Post Body</label>
							<textarea rows="2" class="form-control" id="postBody"
							ng-model="main.postData.body" placeholder="body">
							</textarea>

						</div>
				</div>
				<div class="modal-footer text-align">
					<!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
					<a href="#" ng-click="main.createPost()" 
							class="btn btn-primary">Save Post</a>
				</div>
			</div>
		
		</div>
	</div>
</main>

</body>
</html>